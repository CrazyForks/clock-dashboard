function e(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}import{S as t,d as a,r as l,c as n,a as o,o as i,b as s,t as r,e as c,u,C as d,f as h,F as v,g as p,n as m,h as f,i as w,w as g,j as x,k as b,l as y,m as k,p as _,X as S,q as M,s as I,v as C,x as T,R as j,y as D,T as L,D as N,P as A,Z as E,z as O,L as F,A as W,B as J,E as z,G as P,H,I as U,J as V,K as R,M as B,N as X,O as Y,Q as q,U as G,V as K,W as Q,Y as Z,_ as $}from"./vendor-DPpD10XH.js";function ee(e){try{const a=t.fromDate(e),l=a.getLunar(),n=l.getMonthInChinese(),o=l.getDayInChinese(),i=l.getYearInGanZhiByLiChun(),s=l.getJieQi(),r=l.getFestivals(),c=a.getFestivals(),u=[...r,...c],d=u.length>0?u[0]:s||"",h="åˆä¸€"===o?"".concat(n,"æœˆ"):o;return{fullDate:d?"".concat(h," Â· ").concat(d):h,date:d||h,year:"".concat(i,"å¹´"),month:"".concat(n,"æœˆ"),isFestival:!!d,festival:d}}catch(a){return console.error("Lunar date error (lunar-typescript):",a),{fullDate:"åŠ è½½å¤±è´¥",date:"åŠ è½½å¤±è´¥",year:"--å¹´",month:"åŠ è½½å¤±è´¥",isFestival:!1}}}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const te={class:"full-screen-calendar text-white"},ae={class:"flex items-center justify-between w-full mb-8 px-4 md:px-12"},le={class:"text-left"},ne={class:"text-4xl md:text-5xl font-bold tracking-widest"},oe={class:"text-lg opacity-50 tracking-[0.4em] uppercase mt-1"},ie={class:"flex items-center gap-3"},se={class:"flex-1 flex flex-col w-full"},re={class:"grid grid-cols-7 mb-2"},ce={class:"calendar-grid"},ue={class:"day-number-wrapper flex flex-col items-center justify-center"},de={class:"text-2xl md:text-3xl font-bold"},he=(e,t)=>{const a=e.__vccOpts||e;for(const[l,n]of t)a[l]=n;return a},ve=he(a({__name:"CalendarView",setup(e,{expose:t}){const a=l(new Date),f=l(new Date),w=n(()=>a.value.getFullYear()),g=n(()=>a.value.getMonth()),x=["January","February","March","April","May","June","July","August","September","October","November","December"],b=n(()=>w.value===f.value.getFullYear()&&g.value===f.value.getMonth()),y=n(()=>{const e=w.value,t=g.value,a=new Date(e,t,1).getDay(),l=new Date(e,t+1,0).getDate(),n=new Date(e,t,0).getDate(),o=[];for(let s=a-1;s>=0;s--){const a=new Date(e,t-1,n-s);o.push({date:a,isOtherMonth:!0,lunar:ee(a)})}for(let s=1;s<=l;s++){const a=new Date(e,t,s);o.push({date:a,isOtherMonth:!1,isToday:a.toDateString()===f.value.toDateString(),lunar:ee(a)})}const i=42-o.length;for(let s=1;s<=i;s++){const a=new Date(e,t+1,s);o.push({date:a,isOtherMonth:!0,lunar:ee(a)})}return o});function k(e){const t=new Date(a.value);t.setMonth(t.getMonth()+e),a.value=t}function _(){f.value=new Date,a.value=new Date}return t({refreshToday:function(){f.value=new Date,b.value&&(a.value=new Date)}}),(e,t)=>(i(),o("div",te,[s("div",ae,[s("div",le,[s("h2",ne,r(w.value)+"å¹´"+r(g.value+1)+"æœˆ ",1),s("p",oe,r(x[g.value]),1)]),s("div",ie,[s("button",{class:"p-2 bg-white/10 hover:bg-white/20 border border-white/10 rounded-full transition-all duration-300",onClick:t[0]||(t[0]=e=>k(-1))},[c(u(d),{class:"w-6 h-6"})]),s("button",{class:"px-6 py-2 bg-white/10 hover:bg-white/20 border border-white/10 rounded-full transition-all duration-300 text-md font-medium",onClick:_}," ä»Šå¤© "),s("button",{class:"p-2 bg-white/10 hover:bg-white/20 border border-white/10 rounded-full transition-all duration-300",onClick:t[1]||(t[1]=e=>k(1))},[c(u(h),{class:"w-6 h-6"})])])]),s("div",se,[s("div",re,[(i(),o(v,null,p(["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"],e=>s("div",{key:e,class:"calendar-header-day text-xl font-bold"},r(e),1)),64))]),s("div",ce,[(i(!0),o(v,null,p(y.value,(e,t)=>(i(),o("div",{key:t,class:m(["calendar-day",{"other-month":e.isOtherMonth,today:e.isToday}])},[s("div",ue,[s("span",de,r(e.date.getDate()),1),s("span",{class:m(["lunar-text text-sm font-normal mt-1",e.lunar.isFestival?"text-blue-300 opacity-100":"opacity-60"])},r(e.lunar.date),3)])],2))),128))])])]))}}),[["__scopeId","data-v-f23083ca"]]);const pe={class:"digit-item"},me={class:"digit-item"},fe=he(a({__name:"Digit",props:{value:{},trigger:{}},setup(e){const t=e,a=l(t.value),n=l(t.value),c=l(!1),u=l("rotate(".concat((12*Math.random()-6).toFixed(1),"deg)"));return g(()=>t.trigger,()=>{u.value="rotate(".concat((12*Math.random()-6).toFixed(1),"deg)")}),g(()=>t.value,(e,t)=>{e!==t&&(u.value="rotate(".concat((12*Math.random()-6).toFixed(1),"deg)"),n.value=e,c.value=!0,setTimeout(()=>{c.value=!1,a.value=e},800))}),f(()=>{a.value=t.value,n.value=t.value}),(e,t)=>(i(),o("div",{class:"digit-container",style:x({transform:u.value})},[s("div",{class:m(["digit-window",{animating:c.value}])},[s("div",pe,r(a.value),1),s("div",me,r(n.value),1)],2)],4))}}),[["__scopeId","data-v-ffa39005"]]);function we(e,t=!0){const a="./weather-icons/".concat(-1===e?"not-available":0===e?t?"clear-day":"clear-night":1===e||2===e?t?"partly-cloudy-day":"partly-cloudy-night":3===e?"overcast":45===e||48===e?t?"fog-day":"fog-night":e>=51&&e<=55?"drizzle":e>=61&&e<=65?"rain":66===e||67===e?"sleet":e>=71&&e<=77?"snow":e>=80&&e<=82?t?"partly-cloudy-day-rain":"partly-cloudy-night-rain":85===e||86===e?t?"partly-cloudy-day-snow":"partly-cloudy-night-snow":e>=95?t?"thunderstorms-day-rain":"thunderstorms-night-rain":t?"clear-day":"clear-night",".svg");return{text:{0:"æ™´æœ—",1:"æ™´é—´å¤šäº‘",2:"å¤šäº‘",3:"é˜´",45:"é›¾",48:"æ²‰ç§¯é›¾",51:"å°æ¯›æ¯›é›¨",53:"æ¯›æ¯›é›¨",55:"å¤§æ¯›æ¯›é›¨",56:"è½»å¾®å†»æ¯›æ¯›é›¨",57:"å†»æ¯›æ¯›é›¨",61:"å°é›¨",63:"ä¸­é›¨",65:"å¤§é›¨",66:"è½»å¾®å†»é›¨",67:"å†»é›¨",71:"å°é›ª",73:"ä¸­é›ª",75:"å¤§é›ª",77:"é›ªç²’",80:"å°é˜µé›¨",81:"é˜µé›¨",82:"å¼ºé˜µé›¨",85:"å°é˜µé›ª",86:"é˜µé›ª",95:"é›·é˜µé›¨",96:"é›·é›¨ä¼´æœ‰å†°é›¹",99:"å¼ºé›·é›¨ä¼´å†°é›¹"}[e]||"æœªçŸ¥",icon:a}}const ge=l(null),xe=l(!0),be=l("å®šä½ä¸­..."),ye=l({text:"ç‚¹å‡»åˆ·æ–°",icon:we(-1).icon}),ke=l(null),_e=l(localStorage.getItem("weather_location_mode")||"auto"),Se=l(Number(localStorage.getItem("weather_custom_lat"))||39.9),Me=l(Number(localStorage.getItem("weather_custom_lon"))||116.4),Ie=l(localStorage.getItem("weather_custom_city")||"åŒ—äº¬å¸‚"),Ce=l(Number(localStorage.getItem("weather_refresh_interval"))||20),Te=l("false"!==localStorage.getItem("weather_show_rain")),je=l("false"!==localStorage.getItem("weather_show_thunder")),De=l("false"!==localStorage.getItem("weather_show_snow"));function Le(){async function e(e,t,a,l=!1){const n="https://api.open-meteo.com/v1/forecast?latitude=".concat(e,"&longitude=").concat(t,"&current=temperature_2m,rain,wind_speed_10m,is_day,apparent_temperature,showers,relative_humidity_2m,precipitation,weather_code&hourly=precipitation_probability,uv_index,temperature_2m&timezone=auto&forecast_days=1");try{const o=await fetch(n),i=await o.json(),s=(new Date).getHours();i.current_hour_index=s,ge.value=i,ye.value=we(i.current.weather_code,1===i.current.is_day),xe.value=!1,a?(be.value=a,l&&(ke.value={lat:e,lon:t,city:a})):be.value.includes("å®šä½ä¸­")&&(be.value="".concat(t.toFixed(2),", ").concat(e.toFixed(2)))}catch(o){ye.value.text="æŽ¥å£é”™è¯¯",ye.value.icon=we(-1).icon}}async function t(){try{const t=await fetch("https://api.bigdatacloud.net/data/reverse-geocode-client?localityLanguage=zh"),a=await t.json();if(!a.latitude||!a.longitude)throw new Error("å®šä½å¤±è´¥");{const t=a.city||a.locality||a.principalSubdivision||"æœªçŸ¥åŸŽå¸‚";await e(a.latitude,a.longitude,t,!0)}}catch(t){await e(39.9,116.4,"åŒ—äº¬å¸‚ (é»˜è®¤)")}}return{weatherData:ge,loading:xe,locationText:be,weatherInfo:ye,locationMode:_e,customLat:Se,customLon:Me,customCity:Ie,refreshInterval:Ce,showRainEffect:Te,showThunderEffect:je,showSnowEffect:De,saveSettings:function(){localStorage.setItem("weather_location_mode",_e.value),localStorage.setItem("weather_custom_lat",Se.value.toString()),localStorage.setItem("weather_custom_lon",Me.value.toString()),localStorage.setItem("weather_custom_city",Ie.value),localStorage.setItem("weather_refresh_interval",Ce.value.toString()),localStorage.setItem("weather_show_rain",Te.value.toString()),localStorage.setItem("weather_show_thunder",je.value.toString()),localStorage.setItem("weather_show_snow",De.value.toString())},getLocationAndWeather:async function(){if(xe.value=!0,"coords"!==_e.value)if("city"!==_e.value){if(ke.value){const{lat:t,lon:a,city:l}=ke.value;return void(await e(t,a,l,!0))}try{navigator.geolocation?navigator.geolocation.getCurrentPosition(async t=>{const a=t.coords.latitude,l=t.coords.longitude,n=await async function(e,t){try{const a=await fetch("https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=".concat(e,"&longitude=").concat(t,"&localityLanguage=zh")),l=await a.json();return l.city||l.locality||l.principalSubdivision||"æœªçŸ¥åŸŽå¸‚"}catch(a){return"".concat(t.toFixed(2),", ").concat(e.toFixed(2))}}(a,l);await e(a,l,n,!0)},async()=>await t(),{timeout:5e3}):await t()}catch(a){ye.value.text="æ›´æ–°è¶…æ—¶",xe.value=!1}}else await async function(t){try{const a=await fetch("https://geocoding-api.open-meteo.com/v1/search?name=".concat(encodeURIComponent(t),"&count=1&language=zh&format=json")),l=await a.json();if(!(l.results&&l.results.length>0))throw new Error("æ‰¾ä¸åˆ°åŸŽå¸‚");{const{latitude:t,longitude:a,name:n}=l.results[0];await e(t,a,n,!0)}}catch(a){ye.value.text="åŸŽå¸‚é”™è¯¯",xe.value=!1}}(Ie.value);else await e(Se.value,Me.value,"è‡ªå®šä¹‰åæ ‡")}}}const Ne={class:"relative w-full max-w-lg bg-neutral-900 border border-white/10 rounded-3xl p-8 text-white overflow-y-auto max-h-[90vh]"},Ae={class:"flex items-center justify-between mb-8"},Ee={class:"space-y-8"},Oe={class:"grid grid-cols-3 gap-3"},Fe=["onClick"],We={key:0,class:"mt-4 grid grid-cols-2 gap-4"},Je={class:"space-y-2"},ze={class:"space-y-2"},Pe={key:1,class:"mt-4 space-y-2"},He={class:"grid grid-cols-4 gap-2"},Ue=["onClick"],Ve={class:"grid grid-cols-3 gap-3"},Re={class:"flex gap-4 pt-4"},Be=["disabled"],Xe=he(a({__name:"WeatherSettingsModal",props:{show:{type:Boolean}},emits:["close"],setup(e,{emit:t}){const a=t,{locationMode:l,customLat:n,customLon:d,customCity:h,refreshInterval:f,showRainEffect:w,showThunderEffect:g,showSnowEffect:x,saveSettings:N,getLocationAndWeather:A,loading:E}=Le();function O(){N(),a("close"),A()}return(t,a)=>(i(),b(L,{name:"fade"},{default:y(()=>[e.show?(i(),o("div",{key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-4",onTouchstart:a[9]||(a[9]=_(()=>{},["stop"])),onTouchend:a[10]||(a[10]=_(()=>{},["stop"])),onMousedown:a[11]||(a[11]=_(()=>{},["stop"])),onMouseup:a[12]||(a[12]=_(()=>{},["stop"]))},[s("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:a[0]||(a[0]=e=>t.$emit("close"))}),s("div",Ne,[s("div",Ae,[a[13]||(a[13]=s("h2",{class:"text-3xl font-medium tracking-wide"}," å¤©æ°”è®¾ç½® ",-1)),s("button",{class:"p-2 hover:bg-white/10 rounded-full transition-colors",onClick:a[1]||(a[1]=e=>t.$emit("close"))},[c(u(S),{class:"w-6 h-6"})])]),s("div",Ee,[s("section",null,[a[17]||(a[17]=s("h3",{class:"text-white/50 mb-4 uppercase tracking-widest text-sm font-medium"}," ä½ç½®èŽ·å–æ–¹å¼ ",-1)),s("div",Oe,[(i(),o(v,null,p(["auto","coords","city"],e=>s("button",{key:e,class:m(["p-2 rounded-xl border transition-all text-center",u(l)===e?"bg-white text-black border-white":"bg-white/5 border-white/10 hover:bg-white/10"]),onClick:t=>l.value=e},r("auto"===e?"è‡ªåŠ¨å®šä½":"coords"===e?"ç»çº¬åº¦":"åŸŽå¸‚å"),11,Fe)),64))]),"coords"===u(l)?(i(),o("div",We,[s("div",Je,[a[14]||(a[14]=s("label",{class:"text-xs text-white/40 block ml-1"},"çº¬åº¦ (Latitude)",-1)),M(s("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>I(n)?n.value=e:null),type:"number",step:"0.0001",class:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-white/30"},null,512),[[C,u(n),void 0,{number:!0}]])]),s("div",ze,[a[15]||(a[15]=s("label",{class:"text-xs text-white/40 block ml-1"},"ç»åº¦ (Longitude)",-1)),M(s("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>I(d)?d.value=e:null),type:"number",step:"0.0001",class:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-white/30"},null,512),[[C,u(d),void 0,{number:!0}]])])])):k("",!0),"city"===u(l)?(i(),o("div",Pe,[a[16]||(a[16]=s("label",{class:"text-xs text-white/40 block ml-1"},"åŸŽå¸‚åç§° (ä¾‹å¦‚: åŒ—äº¬)",-1)),M(s("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>I(h)?h.value=e:null),type:"text",class:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-white/30"},null,512),[[C,u(h)]])])):k("",!0)]),s("section",null,[a[18]||(a[18]=s("h3",{class:"text-white/50 mb-4 uppercase tracking-widest text-sm font-medium"}," å¤©æ°”æ›´æ–°é¢‘çŽ‡ ",-1)),s("div",He,[(i(),o(v,null,p([5,10,20,30],e=>s("button",{key:e,class:m(["py-2 px-1 rounded-xl border transition-all text-center text-sm",u(f)===e?"bg-white text-black border-white":"bg-white/5 border-white/10 hover:bg-white/10"]),onClick:t=>f.value=e},r(e)+"åˆ† ",11,Ue)),64))])]),s("section",null,[a[22]||(a[22]=s("h3",{class:"text-white/50 mb-4 uppercase tracking-widest text-sm font-medium"}," å¤©æ°”ç‰¹æ•ˆæ˜¾ç¤º ",-1)),s("div",Ve,[s("div",{class:m(["flex items-center justify-center p-2 rounded-xl cursor-pointer transition-all duration-300 text-center border",u(w)?"bg-white text-black border-white":"bg-white/5 border-white/10 hover:bg-white/10"]),onClick:a[5]||(a[5]=e=>w.value=!u(w))},[...a[19]||(a[19]=[s("span",{class:"text-base"},"ä¸‹é›¨",-1)])],2),s("div",{class:m(["flex items-center justify-center p-2 rounded-xl cursor-pointer transition-all duration-300 text-center border",u(g)?"bg-white text-black border-white":"bg-white/5 border-white/10 hover:bg-white/10"]),onClick:a[6]||(a[6]=e=>g.value=!u(g))},[...a[20]||(a[20]=[s("span",{class:"text-base"},"æ‰“é›·",-1)])],2),s("div",{class:m(["flex items-center justify-center p-2 rounded-xl cursor-pointer transition-all duration-300 text-center border",u(x)?"bg-white text-black border-white":"bg-white/5 border-white/10 hover:bg-white/10"]),onClick:a[7]||(a[7]=e=>x.value=!u(x))},[...a[21]||(a[21]=[s("span",{class:"text-base"},"ä¸‹é›ª",-1)])],2)])]),s("div",Re,[s("button",{class:"flex items-center justify-center gap-2 p-4 px-6 rounded-2xl bg-white/10 hover:bg-white/20 transition-all font-medium",disabled:u(E),onClick:a[8]||(a[8]=(...e)=>u(A)&&u(A)(...e))},[c(u(j),{class:m(["w-5 h-5",{"animate-spin":u(E)}])},null,8,["class"]),a[23]||(a[23]=T(" ç«‹å³åˆ·æ–°å¤©æ°” ",-1))],8,Be),s("button",{class:"flex-1 flex items-center justify-center gap-2 p-4 rounded-2xl bg-white text-black font-bold hover:bg-opacity-90 transition-all",onClick:O},[c(u(D),{class:"w-5 h-5"}),a[24]||(a[24]=T(" ä¿å­˜å¹¶å…³é—­ ",-1))])])])])],32)):k("",!0)]),_:1}))}}),[["__scopeId","data-v-cec98e5b"]]),Ye={class:"flex items-center justify-center md:justify-start gap-0"},qe={id:"weather-icon",class:"w-28 h-28 drop-shadow-xl"},Ge=["src","alt"],Ke={id:"weather-text",class:"text-4xl font-semibold tracking-wide"},Qe={id:"location-text",class:"text-md text-white/60 uppercase tracking-widest mt-1 whitespace-nowrap"},Ze={class:"text-blue-400 text-xl tabular-nums"},$e={class:"flex items-center justify-center px-4 gap-6"},et={class:"flex items-end"},tt={id:"temp-val",class:"text-8xl font-extralight mr-1"},at={class:"flex flex-col items-end justify-between gap-2"},lt={id:"temp-max",class:"text-3xl font-medium text-red-200"},nt={id:"temp-min",class:"text-3xl font-medium text-blue-200"},ot={class:"flex flex-col justify-center items-center md:items-end gap-3 text-white text-3xl tabular-nums"},it={class:"flex items-center gap-3"},st={id:"humidity-val"},rt={class:"flex items-center gap-3"},ct={id:"apparent-temp-val"},ut={id:"uv-val"},dt=he(a({__name:"Weather",setup(e){const{weatherData:t,loading:a,locationText:n,weatherInfo:d,refreshInterval:h,getLocationAndWeather:p}=Le(),x=l(!1);let b;function y(){b&&clearInterval(b),b=window.setInterval(p,60*h.value*1e3)}return g(h,()=>{y()}),f(()=>{p(),y()}),w(()=>{clearInterval(b)}),(e,l)=>(i(),o(v,null,[s("div",{id:"weather-container",class:m(["weather-clickable grid grid-cols-1 md:grid-cols-3 gap-3 w-full pt-10 transition-opacity duration-700",{"opacity-30":u(a),"opacity-100":!u(a)}]),onClick:l[0]||(l[0]=e=>x.value=!0)},[s("div",Ye,[s("div",qe,[s("img",{src:u(d).icon,alt:u(d).text,class:"w-full h-full object-contain"},null,8,Ge)]),s("div",null,[s("p",Ke,r(u(d).text),1),s("p",Qe,[T(r(u(n))+" Â· é™é›¨ ",1),s("span",Ze,r(u(t)?u(t).hourly.precipitation_probability[u(t).current_hour_index]:"--")+"%",1)])])]),s("div",$e,[s("div",et,[s("div",tt,r(u(t)?Math.round(u(t).current.temperature_2m):"--"),1),l[2]||(l[2]=s("div",{class:"text-3xl font-light opacity-70 mb-12"}," Â°C ",-1))]),s("div",at,[s("span",lt,r(u(t)?Math.round(Math.max(...u(t).hourly.temperature_2m)):"--")+"Â° ",1),s("span",nt,r(u(t)?Math.round(Math.min(...u(t).hourly.temperature_2m)):"--")+"Â° ",1)])]),s("div",ot,[s("div",it,[s("span",st,r(u(t)?u(t).current.relative_humidity_2m:"--")+"% ",1),c(u(N),{class:"w-8 h-8 text-blue-500/60"})]),s("div",rt,[s("span",ct,r(u(t)?Math.round(u(t).current.apparent_temperature):"--")+"Â°C ",1),c(u(A),{class:"w-8 h-8 text-orange-500/60"}),s("span",ut,r(u(t)?Math.round(u(t).hourly.uv_index[u(t).current_hour_index]):"--"),1),c(u(E),{class:"w-8 h-8 text-yellow-500/60"})])])],2),c(Xe,{show:x.value,onClose:l[1]||(l[1]=e=>x.value=!1)},null,8,["show"])],64))}}),[["__scopeId","data-v-e4dd6a11"]]),ht={class:"glass-panel h-full p-4 md:p-8 flex flex-col items-center justify-evenly text-white w-full"},vt={class:"flex flex-col md:flex-row items-center md:items-start gap-6 w-full justify-center"},pt={class:"flex items-center gap-4"},mt={class:"date-day-big text-glow"},ft={class:"flex flex-col mt-2"},wt={class:"text-5xl tracking-[0.2em] opacity-90 uppercase"},gt={class:"text-4xl tracking-[0.2em] font-light opacity-70 mt-1"},xt={class:"flex flex-col items-center md:items-start mt-5"},bt={class:"text-5xl font-medium text-white/90 tracking-wider"},yt={class:"text-4xl tracking-[0.2em] font-light opacity-70 mt-2"},kt={key:0,class:"clock-separator second-separator"},_t=he(a({__name:"ClockWeather",setup(e){const{h1:t,h2:a,m1:n,m2:d,s1:h,s2:p,lunar:g,now:x,showSeconds:b}=function(){const e=l(new Date),t=l(0),a=l(0),n=l(0),o=l(0),i=l(0),s=l(0),r=l(ee(new Date)),c=l(!1);let u;const d=()=>{const l=new Date;e.value=l;const c=String(l.getHours()).padStart(2,"0"),u=String(l.getMinutes()).padStart(2,"0"),d=String(l.getSeconds()).padStart(2,"0");t.value=Number.parseInt(c[0]),a.value=Number.parseInt(c[1]),n.value=Number.parseInt(u[0]),o.value=Number.parseInt(u[1]),i.value=Number.parseInt(d[0]),s.value=Number.parseInt(d[1]),0===l.getHours()&&0===l.getMinutes()&&0===l.getSeconds()&&(r.value=ee(l))};return f(()=>{d(),u=window.setInterval(d,1e3),r.value=ee(new Date)}),w(()=>{clearInterval(u)}),{now:e,h1:t,h2:a,m1:n,m2:o,s1:i,s2:s,lunar:r,showSeconds:c}}();function y(){b.value=!b.value}return(e,l)=>(i(),o("div",ht,[s("div",vt,[s("div",pt,[s("div",mt,r(u(x).getDate()),1),s("div",ft,[s("span",wt,r(u(x).toLocaleDateString("zh-CN",{weekday:"long"})),1),s("span",gt,r(u(x).getFullYear())+"å¹´"+r(u(x).getMonth()+1)+"æœˆ ",1)])]),l[0]||(l[0]=s("div",{class:"hidden md:block w-px h-16 mx-16 self-center"},null,-1)),s("div",xt,[s("span",bt,r(u(g).fullDate),1),s("span",yt,r(u(g).year)+r(u(g).month),1)])]),s("div",{class:m(["clock-display text-glow tabular-nums mb-4 cursor-pointer transition-all duration-500",{"with-seconds":u(b)}]),onClick:y},[c(fe,{value:u(t),trigger:u(b)?u(x).getTime():Math.floor(u(x).getTime()/6e4)},null,8,["value","trigger"]),c(fe,{value:u(a),trigger:u(b)?u(x).getTime():Math.floor(u(x).getTime()/6e4)},null,8,["value","trigger"]),l[1]||(l[1]=s("div",{class:"clock-separator"}," : ",-1)),c(fe,{value:u(n),trigger:u(b)?u(x).getTime():Math.floor(u(x).getTime()/6e4)},null,8,["value","trigger"]),c(fe,{value:u(d),trigger:u(b)?u(x).getTime():Math.floor(u(x).getTime()/6e4)},null,8,["value","trigger"]),u(b)?(i(),o("div",kt," : ")):k("",!0),u(b)?(i(),o(v,{key:1},[c(fe,{class:"second-digit",value:u(h),trigger:u(x).getTime()},null,8,["value","trigger"]),c(fe,{class:"second-digit",value:u(p),trigger:u(x).getTime()},null,8,["value","trigger"])],64)):k("",!0)],2),c(dt)]))}}),[["__scopeId","data-v-53ba618e"]]),St={class:"bg-neutral-900 p-6 md:p-8 rounded-3xl border border-white/10 w-full max-w-2xl text-white max-h-[90vh] flex flex-col relative"},Mt={class:"flex items-center justify-between mb-6 flex-shrink-0"},It={class:"flex items-center gap-2"},Ct={class:"space-y-6 overflow-y-auto pr-2 flex-1"},Tt={key:0,class:"space-y-6"},jt={class:"space-y-4"},Dt={class:"space-y-3"},Lt={class:"flex flex-col gap-1"},Nt=["onClick"],At=["onClick"],Et=["onUpdate:modelValue"],Ot=["onUpdate:modelValue","placeholder"],Ft=["onClick"],Wt={key:1,class:"space-y-3"},Jt=a({__name:"SettingsModal",props:{show:{type:Boolean},entitiesStates:{}},emits:["close","saved"],setup(e,{emit:t}){const a=e,n=t,r=l(JSON.parse(localStorage.getItem("ha_config")||'{"url":"","token":"","entities":[]}')),d=l(!1),h=l("");function m(){r.value.entities.push({id:"",name:""})}function f(e,t){const a=e+t;if(a>=0&&a<r.value.entities.length){const t=r.value.entities[e];r.value.entities[e]=r.value.entities[a],r.value.entities[a]=t}}function w(){if(d.value)try{const e=JSON.parse(h.value);if(!e||"object"!=typeof e)throw new Error("Must be an object");r.value.url=e.url||"",r.value.token=e.token||"",r.value.entities=Array.isArray(e.entities)?e.entities:[]}catch(e){return void alert("JSON æ ¼å¼é”™è¯¯ï¼Œä¿å­˜å¤±è´¥")}localStorage.setItem("ha_config",JSON.stringify(r.value)),n("saved"),n("close")}return g(d,e=>{if(e)h.value=JSON.stringify({url:r.value.url,token:r.value.token,entities:r.value.entities},null,2);else try{const e=JSON.parse(h.value);e&&"object"==typeof e&&(void 0!==e.url&&(r.value.url=e.url),void 0!==e.token&&(r.value.token=e.token),Array.isArray(e.entities)&&(r.value.entities=e.entities))}catch(t){alert("JSON æ ¼å¼é”™è¯¯ï¼Œè¯·æ£€æŸ¥åŽå†åˆ‡æ¢æ¨¡å¼"),setTimeout(()=>{d.value=!0},0)}}),(t,l)=>e.show?(i(),o("div",{key:0,id:"settings-modal",class:"fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center p-4 md:p-6 z-[1000]",onTouchstart:l[6]||(l[6]=_(()=>{},["stop"])),onTouchend:l[7]||(l[7]=_(()=>{},["stop"])),onMousedown:l[8]||(l[8]=_(()=>{},["stop"])),onMouseup:l[9]||(l[9]=_(()=>{},["stop"]))},[s("div",{class:"absolute top-0 left-0 right-0 bottom-0 bg-black/80",onClick:l[0]||(l[0]=e=>n("close"))}),s("div",St,[s("div",Mt,[l[12]||(l[12]=s("h3",{class:"text-2xl font-bold"}," Home Assistant é…ç½® ",-1)),s("div",It,[s("button",{class:"text-xs flex items-center gap-1.5 opacity-50 hover:opacity-100 transition-all px-3 py-1.5 bg-white/5 hover:bg-white/10 rounded-lg border border-white/5",onClick:l[1]||(l[1]=e=>d.value=!d.value)},[d.value?(i(),o(v,{key:1},[c(u(F),{class:"w-3.5 h-3.5"}),l[11]||(l[11]=T(" åˆ—è¡¨æ¨¡å¼ ",-1))],64)):(i(),o(v,{key:0},[c(u(O),{class:"w-3.5 h-3.5"}),l[10]||(l[10]=T(" JSON æ¨¡å¼ ",-1))],64))]),s("button",{class:"opacity-50 hover:opacity-100 p-2",onClick:l[2]||(l[2]=e=>n("close"))},[c(u(S),{class:"w-6 h-6"})])])]),s("div",Ct,[d.value?(i(),o("div",Wt,[M(s("textarea",{"onUpdate:modelValue":l[5]||(l[5]=e=>h.value=e),rows:"18",class:"w-full bg-white/5 border border-white/10 text-white font-mono text-sm rounded-xl px-4 py-3 outline-none focus:border-white/30",placeholder:'{"url": "http://...", "token": "...", "entities": [{"id": "light.living_room", "name": "å®¢åŽ…ç¯"}]}'},null,512),[[C,h.value]]),l[17]||(l[17]=s("div",{class:"flex justify-between items-center text-[10px] opacity-30 px-1"},[s("span",null,"æ”¯æŒåœ°å€ã€ä»¤ç‰Œã€è®¾å¤‡åˆ—è¡¨å…¨é‡å¯¼å…¥å¯¼å‡º"),s("span",null,'æ ¼å¼: { "url": "...", "token": "...", "entities": [...] }')],-1)),l[18]||(l[18]=s("div",{class:"mt-4 p-4 bg-orange-500/10 border border-orange-500/20 rounded-xl"},[s("p",{class:"text-xs text-orange-200/60 leading-relaxed"},[s("strong",null,"ðŸ’¡ è·¨åŸŸæç¤ºï¼š"),T(" å¦‚æžœæŽ¥å£æ— æ³•åŠ è½½ï¼Œè¯·ç¡®ä¿åœ¨ Home Assistant çš„ "),s("code",null,"configuration.yaml"),T(" ä¸­é…ç½®äº† "),s("code",null,"cors_allowed_origins"),T("ï¼ŒåŒ…å«å½“å‰çœ‹æ¿çš„è®¿é—®åŸŸåæˆ– IPã€‚ ")])],-1))])):(i(),o("div",Tt,[s("div",null,[l[13]||(l[13]=s("label",{class:"block text-sm opacity-50 mb-2 uppercase tracking-widest"},"HA åœ°å€",-1)),M(s("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>r.value.url=e),type:"text",placeholder:"http://192.168.1.xxx:8123",class:"w-full bg-white/5 border border-white/10 text-white rounded-xl px-4 py-3 outline-none focus:border-white/30"},null,512),[[C,r.value.url]])]),s("div",null,[l[14]||(l[14]=s("label",{class:"block text-sm opacity-50 mb-2 uppercase tracking-widest"},"é•¿æœŸè®¿é—®ä»¤ç‰Œ",-1)),M(s("input",{"onUpdate:modelValue":l[4]||(l[4]=e=>r.value.token=e),type:"password",placeholder:"è¾“å…¥ä»¤ç‰Œ",class:"w-full bg-white/5 border border-white/10 text-white rounded-xl px-4 py-3 outline-none focus:border-white/30"},null,512),[[C,r.value.token]])]),s("div",jt,[l[16]||(l[16]=s("label",{class:"block text-sm opacity-50 uppercase tracking-widest"},"è®¾å¤‡åˆ—è¡¨",-1)),s("div",Dt,[(i(!0),o(v,null,p(r.value.entities,(e,t)=>{var l,n,d;return i(),o("div",{key:t,class:"flex gap-2"},[s("div",Lt,[s("button",{class:"p-1 opacity-30 hover:opacity-100 transition-opacity",onClick:e=>f(t,-1)},[c(u(J),{class:"w-4 h-4"})],8,Nt),s("button",{class:"p-1 opacity-30 hover:opacity-100 transition-opacity",onClick:e=>f(t,1)},[c(u(z),{class:"w-4 h-4"})],8,At)]),M(s("input",{"onUpdate:modelValue":t=>e.id=t,type:"text",class:"flex-1 bg-white/5 border border-white/10 text-white rounded-xl px-4 py-2 outline-none focus:border-white/30",placeholder:"å®žä½“ ID"},null,8,Et),[[C,e.id]]),M(s("input",{"onUpdate:modelValue":t=>e.name=t,type:"text",class:"w-24 md:w-32 bg-white/5 border border-white/10 text-white rounded-xl px-4 py-2 outline-none focus:border-white/30",placeholder:(null==(d=null==(n=null==(l=a.entitiesStates)?void 0:l[e.id])?void 0:n.attributes)?void 0:d.friendly_name)||"å¤‡æ³¨å"},null,8,Ot),[[C,e.name]]),s("button",{class:"p-2 text-red-400 hover:bg-red-400/10 rounded-lg",onClick:e=>function(e){r.value.entities.splice(e,1)}(t)},[c(u(P),{class:"w-5 h-5"})],8,Ft)])}),128)),s("button",{class:"flex items-center gap-2 text-sm opacity-70 hover:opacity-100 transition-all mt-2 bg-white/5 px-4 py-2 rounded-xl w-full justify-center border border-dashed border-white/10 hover:border-white/20",onClick:m},[c(u(W),{class:"w-5 h-5"}),l[15]||(l[15]=T(" æ·»åŠ è®¾å¤‡ ",-1))])])])]))]),s("div",{class:"pt-6 mt-2 border-t border-white/10 flex-shrink-0"},[s("button",{class:"w-full py-4 bg-white text-black font-bold rounded-2xl hover:bg-opacity-90 transition-all shadow-xl",onClick:w}," ä¿å­˜å¹¶åº”ç”¨ ")])])],32)):k("",!0)}}),zt={class:"glass-panel p-8 md:p-14 flex flex-col items-center text-white h-full justify-start overflow-y-auto w-full"},Pt={class:"flex items-center justify-between w-full mb-10"},Ht={class:"flex items-baseline gap-6"},Ut={key:0,class:"flex items-center gap-6 opacity-60"},Vt={key:0,class:"flex items-center gap-2"},Rt={class:"text-2xl font-medium tabular-nums"},Bt={key:1,class:"flex items-center gap-2"},Xt={class:"text-2xl font-medium tabular-nums"},Yt={class:"flex gap-4"},qt={key:0,id:"ha-entities",class:"grid grid-cols-2 md:grid-cols-3 gap-6 w-full"},Gt=["onClick"],Kt={class:"flex items-center justify-between w-full"},Qt={key:0,class:"flex gap-4 text-sm font-medium opacity-80"},Zt={key:0,class:"flex items-center gap-1.5"},$t={class:"text-base"},ea={key:1,class:"flex items-center gap-1.5"},ta={class:"text-base"},aa={class:"flex flex-col overflow-hidden w-full"},la={class:"font-bold text-lg truncate w-full"},na={class:"text-sm opacity-50 uppercase tracking-widest"},oa={key:1,class:"col-span-full text-center py-20 opacity-50"},ia=he(a({__name:"SmartHome",emits:["openSettings"],setup(e,{expose:t,emit:a}){const d=a,h=l(JSON.parse(localStorage.getItem("ha_config")||'{"url":"","token":"","entities":[]}')),f=l({}),w=l({}),g=l(!1),x=n(()=>{const e=h.value.entities.find(e=>e.id.startsWith("climate."));if(!e)return null;const t=f.value[e.id];if(!t||!t.attributes)return null;const{current_temperature:a,current_humidity:l}=t.attributes;return void 0===a&&void 0===l?null:{temp:a,humi:l}});function y(e){var t;const a=null==(t=f.value[e])?void 0:t.state;return e.startsWith("cover.")?"open"===a:e.startsWith("climate.")?"off"!==a&&"unavailable"!==a:"on"===a}async function _(e){if(h.value.url&&h.value.token)try{const t=await fetch("".concat(h.value.url,"/api/states/").concat(e),{headers:{Authorization:"Bearer ".concat(h.value.token)}}),a=await t.json();f.value[e]=a}catch(t){console.error("HA Fetch Error:",t)}}async function S(){g.value=!0;const e=localStorage.getItem("ha_config");if(e&&(h.value=JSON.parse(e)),!h.value.url||!h.value.token)return void(g.value=!1);const t=h.value.entities.map(e=>_(e.id));await Promise.all(t),setTimeout(()=>{g.value=!1},500)}return t({updateAllStates:S,entitiesStates:f}),(e,t)=>(i(),o("div",zt,[s("div",Pt,[s("div",Ht,[t[1]||(t[1]=s("h2",{class:"text-4xl font-bold tracking-widest text-nowrap"}," æ™ºèƒ½æŽ§åˆ¶ ",-1)),x.value?(i(),o("div",Ut,[void 0!==x.value.temp?(i(),o("div",Vt,[c(u(H),{class:"w-5 h-5 text-orange-400"}),s("span",Rt,r(x.value.temp)+"Â°",1)])):k("",!0),void 0!==x.value.humi?(i(),o("div",Bt,[c(u(N),{class:"w-5 h-5 text-blue-400"}),s("span",Xt,r(x.value.humi)+"%",1)])):k("",!0)])):k("",!0)]),s("div",Yt,[s("button",{class:m(["p-4 bg-white/10 hover:bg-white/20 border border-white/10 rounded-full transition-all",{"opacity-50 pointer-events-none":g.value}]),onClick:S},[c(u(U),{class:m(["w-6 h-6",{"animate-spin":g.value}])},null,8,["class"])],2),s("button",{class:"p-4 bg-white/10 hover:bg-white/20 border border-white/10 rounded-full transition-all",onClick:t[0]||(t[0]=e=>d("openSettings"))},[c(u(V),{class:"w-6 h-6"})])])]),h.value.url&&h.value.token?(i(),o("div",qt,[(i(!0),o(v,null,p(h.value.entities,e=>{var t,a,l,n,d;return i(),o("div",{key:e.id,class:m(["ha-card",{on:y(e.id),"opacity-50 pointer-events-none":w.value[e.id]}]),onClick:t=>async function(e){const t=e.split(".")[0],a=y(e);let l="";l="cover"===t?a?"close_cover":"open_cover":a?"turn_off":"turn_on",w.value[e]=!0;try{await fetch("".concat(h.value.url,"/api/services/").concat(t,"/").concat(l),{method:"POST",headers:{Authorization:"Bearer ".concat(h.value.token),"Content-Type":"application/json"},body:JSON.stringify({entity_id:e})}),setTimeout(()=>_(e).then(()=>{w.value[e]=!1}),500)}catch(n){alert("æ“ä½œå¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œå’Œé…ç½®"),w.value[e]=!1}}(e.id)},[s("div",Kt,[s("div",{class:m(["w-12 h-12 flex items-center justify-center rounded-full transition-colors",y(e.id)?"bg-white text-black":"bg-white/10 text-white"])},[w.value[e.id]?(i(),b(u(R),{key:0,class:"w-6 h-6 animate-spin"})):(i(),b(B((n=e.id.split(".")[0],d=y(e.id),"light"===n?d?X:Y:"switch"===n?q:"fan"===n?G:"media_player"===n?K:"cover"===n?Q:"climate"===n?Z:E)),{key:1,class:"w-6 h-6"}))],2),e.id.startsWith("climate.")&&(null==(t=f.value[e.id])?void 0:t.attributes)?(i(),o("div",Qt,[void 0!==f.value[e.id].attributes.current_temperature?(i(),o("div",Zt,[c(u(H),{class:"w-4 h-4 text-orange-400"}),s("span",$t,r(f.value[e.id].attributes.current_temperature)+"Â°",1)])):k("",!0),void 0!==f.value[e.id].attributes.current_humidity?(i(),o("div",ea,[c(u(N),{class:"w-4 h-4 text-blue-400"}),s("span",ta,r(f.value[e.id].attributes.current_humidity)+"%",1)])):k("",!0)])):k("",!0)]),s("div",aa,[s("span",la,r(e.name||f.value[e.id]&&f.value[e.id].attributes&&f.value[e.id].attributes.friendly_name||e.id),1),s("span",na,[e.id.startsWith("climate.")&&y(e.id)?(i(),o(v,{key:0},[T(r((null==(l=null==(a=f.value[e.id])?void 0:a.attributes)?void 0:l.temperature)?"".concat(f.value[e.id].attributes.temperature,"Â°C"):"å·²å¼€å¯"),1)],64)):(i(),o(v,{key:1},[T(r(y(e.id)?"å·²å¼€å¯":"å·²å…³é—­"),1)],64))])])],10,Gt)}),128))])):(i(),o("div",oa,[...t[2]||(t[2]=[s("p",null,"è¯·ç‚¹å‡»å³ä¸Šè§’è®¾ç½® Home Assistant åœ°å€å’Œä»¤ç‰Œ",-1)])]))]))}}),[["__scopeId","data-v-0a326e9e"]]),sa={class:"weather-effects-container pointer-events-none fixed inset-0 z-0 overflow-hidden"},ra=he(a({__name:"WeatherEffects",setup(e){const{weatherData:t,showRainEffect:a,showThunderEffect:r,showSnowEffect:c}=Le(),u=n(()=>{var e,a,l;return null!=(l=null==(a=null==(e=t.value)?void 0:e.current)?void 0:a.weather_code)?l:-1}),d=n(()=>{if(!a.value)return!1;const e=u.value;return e>=51&&e<=67||e>=80&&e<=82||e>=95&&e<=99}),h=n(()=>{if(!c.value)return!1;const e=u.value;return e>=71&&e<=77||85===e||86===e}),v=n(()=>{if(!r.value)return!1;const e=u.value;return 95===e||96===e||99===e}),p=n(()=>{const e=u.value;return 65===e||82===e||99===e?150:63===e||81===e||96===e?100:e>=51&&e<=55?40:80}),x=n(()=>{const e=u.value;return 75===e||86===e?100:73===e?60:30}),b=l(!1),y=l(!1);let _=[];const S=l(null);let M=null,I=null,C=[],T=[];function j(){if(!S.value)return;const e=S.value;if(e.width=window.innerWidth,e.height=window.innerHeight,d.value){const t=p.value,a=t<=40?5:t<=100?7:10;C=[];for(let l=0;l<t;l++)C.push({x:Math.random()*e.width,y:Math.random()*e.height,l:20+15*Math.random(),v:a+Math.random()*a})}if(h.value){const t=x.value;T=[];for(let a=0;a<t;a++)T.push({x:Math.random()*e.width,y:Math.random()*e.height,r:2+3*Math.random(),v:1+2*Math.random(),w:.5+1*Math.random(),o:Math.random()*Math.PI*2})}}function D(){if(!S.value)return;const e=S.value,t=e.getContext("2d");if(t){if(t.clearRect(0,0,e.width,e.height),v.value&&y.value&&function(e){y.value&&0!==_.length&&(e.save(),e.shadowBlur=15,e.shadowColor="rgba(255, 255, 255, 1)",e.strokeStyle="rgba(255, 255, 255, 0.8)",e.lineWidth=4,e.lineCap="round",e.lineJoin="round",_.forEach(t=>{e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let a=1;a<t.length;a++)e.lineTo(t[a].x,t[a].y);e.stroke()}),e.shadowBlur=0,e.strokeStyle="#ffffff",e.lineWidth=2,_.forEach(t=>{e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let a=1;a<t.length;a++)e.lineTo(t[a].x,t[a].y);e.stroke()}),e.restore())}(t),d.value){t.strokeStyle="rgba(255, 255, 255, 0.5)",t.lineWidth=1.5,t.lineCap="round";for(let a=0;a<C.length;a++){const l=C[a];t.beginPath(),t.moveTo(l.x,l.y);const n=.15*l.v;t.lineTo(l.x+2*n,l.y+l.l),t.stroke(),l.y+=l.v,l.x+=n,l.y>e.height&&(l.y=-l.l,l.x=Math.random()*e.width)}}if(h.value){t.fillStyle="rgba(255, 255, 255, 0.8)";for(let a=0;a<T.length;a++){const l=T[a];t.beginPath(),t.arc(l.x,l.y,l.r,0,2*Math.PI),t.fill(),l.y+=l.v,l.x+=Math.sin(l.o+l.y/50)*l.w,l.y>e.height&&(l.y=-l.r,l.x=Math.random()*e.width)}}M=requestAnimationFrame(D)}}function L(){if(!v.value)return;!function(){const e=100+200*Math.random(),t=S.value?.6*S.value.height:400,a=[];let l=Math.random()*(window.innerWidth-e)+e/2,n=50*Math.random();const o=5+Math.floor(5*Math.random()),i=t/o;a.push({x:l,y:n});const s=[];for(let r=1;r<=o;r++)if(l+=60*(Math.random()-.5),n+=i,a.push({x:l,y:n}),Math.random()>.7&&r<o){const e=[];e.push({x:l,y:n});const t=l+80*(Math.random()-.5),a=n+.5*i;e.push({x:t,y:a}),s.push(e)}s.push(a),_=s}(),y.value=!0,b.value=!0,setTimeout(()=>{b.value=!1,y.value=!1},50),setTimeout(()=>{b.value=!0,y.value=!0},100),setTimeout(()=>{b.value=!1,y.value=!1},150),setTimeout(()=>{b.value=!0,y.value=!0},200),setTimeout(()=>{b.value=!1,y.value=!1},400);const e=3e3+7e3*Math.random();I=window.setTimeout(L,e)}return g([d,p,h,x],()=>{j()}),g(v,e=>{e?L():I&&(clearTimeout(I),I=null,b.value=!1)},{immediate:!0}),f(()=>{j(),D(),window.addEventListener("resize",j)}),w(()=>{I&&clearTimeout(I),M&&cancelAnimationFrame(M),window.removeEventListener("resize",j)}),(e,t)=>(i(),o("div",sa,[v.value?(i(),o("div",{key:0,class:m(["flash-overlay absolute inset-0 bg-white opacity-0 transition-opacity duration-75",{"opacity-10":b.value}])},null,2)):k("",!0),s("canvas",{ref_key:"canvasRef",ref:S,class:"absolute inset-0 w-full h-full"},null,512)]))}}),[["__scopeId","data-v-d938ca5d"]]),ca={class:"slide-page w-screen h-screen flex items-center justify-center flex-shrink-0"},ua={class:"slide-page w-screen h-screen flex items-center justify-center flex-shrink-0"},da={class:"slide-page w-screen h-screen flex items-center justify-center flex-shrink-0"};$(he(a({__name:"App",setup(e){const t=l(1),a=l(!1),n=l(null),r=l(null);let u=0,d=null;function h(){d&&(clearTimeout(d),d=null),1!==t.value&&(d=window.setTimeout(()=>{v(1)},3e4))}function v(e){t.value=e,h(),0===e&&n.value&&n.value.updateAllStates(),2===e&&r.value&&r.value.refreshToday()}function p(e){u=e.touches[0].clientX,h()}function m(e){const a=e.changedTouches[0].clientX,l=u-a;Math.abs(l)>50&&(l>0&&t.value<2?v(t.value+1):l<0&&t.value>0&&v(t.value-1))}function g(e){u=e.clientX,h()}function b(e){const a=u-e.clientX;Math.abs(a)>50&&(a>0&&t.value<2?v(t.value+1):a<0&&t.value>0&&v(t.value-1))}function y(){n.value&&n.value.updateAllStates()}return f(()=>{window.addEventListener("keydown",h),window.addEventListener("click",h)}),w(()=>{window.removeEventListener("keydown",h),window.removeEventListener("click",h),d&&clearTimeout(d)}),(e,l)=>{var u;return i(),o("div",{class:"viewport-container overflow-hidden relative w-screen h-screen bg-black",onTouchstart:p,onTouchend:m,onMousedown:g,onMouseup:b},[s("div",{class:"main-slider flex h-full transition-transform duration-700 cubic-bezier",style:x({transform:"translateX(-".concat(100*t.value,"vw)"),width:"300vw"})},[s("div",ca,[c(ia,{ref_key:"smartHomeRef",ref:n,onOpenSettings:l[0]||(l[0]=e=>a.value=!0)},null,512)]),s("div",ua,[c(_t)]),s("div",da,[c(ve,{ref_key:"calendarRef",ref:r},null,512)])],4),c(ra),c(Jt,{show:a.value,"entities-states":(null==(u=n.value)?void 0:u.entitiesStates)||{},onClose:l[1]||(l[1]=e=>a.value=!1),onSaved:y},null,8,["show","entities-states"])],32)}}}),[["__scopeId","data-v-8b4eb8c8"]])).mount("#app");export{e as __vite_legacy_guard};
